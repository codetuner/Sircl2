typeof sircl=="undefined"&&console.warn("The file 'sircl-extended' component should be registered after the 'sircl' component. Please review order of script files.");$$(function(){$(this).find("[onload-removeclass]").each(function(){sircl.ext.removeClass($(this),$(this).attr("onload-removeclass"))});$(this).find("[onload-addclass]").each(function(){sircl.ext.addClass($(this),$(this).attr("onload-addclass"))});$(this).find("[onload-toggleclass]").each(function(){sircl.ext.toggleClass($(this),$(this).attr("onload-toggleclass"))});$(this).find("SELECT[onload-select]").each(function(){var r,t,i,u,n;if($(this).val()=="")if(r=$(this).attr("onload-select")+"",t=$("option",this),r.toLowerCase()==":singleton"){for(i=-1,n=0;n<t.length;n++)if(t[n].value!=""&&i==-1)i=n;else if(t[n].value!="")return;i!=-1&&($(this).val(t[i].value),$(this).change())}else if(r.toLowerCase()==":first"){for(u=-1,n=0;n<t.length;n++)if(t[n].value!=""){$(this).val(t[n].value);$(this).change();break}}else $(this).val(r),$(this).change()})});sircl.addContentReadyHandler("enrich",function(){$(this).find("[onclick-load]").each(function(){$(this).attr("href",$(this).attr("onclick-load"))})});$(function(){$(document).on("click","*[onclick-click]",function(){var n=$(this).attr("onclick-click");sircl.ext.$select($(this),n)[0].click()});$(document).on("click","[onclick-clear]",function(){sircl.ext.$select($(this),$(this).attr("onclick-clear")).html("")});$(document).on("click","[onclick-show]",function(){sircl.ext.visible(sircl.ext.$select($(this),$(this).attr("onclick-show")),!0)});$(document).on("click","[onclick-hide]",function(){sircl.ext.visible(sircl.ext.$select($(this),$(this).attr("onclick-hide")),!1)});$(document).on("click","[onclick-toggleshow]",function(){sircl.ext.$select($(this),$(this).attr("onclick-toggleshow")).each(function(){sircl.ext.visible($(this),!sircl.ext.visible($(this)))})});$(document).on("click","[onclick-removeclass]",function(){sircl.ext.removeClass($(this),$(this).attr("onclick-removeclass"))});$(document).on("click","[onclick-addclass]",function(){sircl.ext.addClass($(this),$(this).attr("onclick-addclass"))});$(document).on("click","[onclick-toggleclass]",function(){sircl.ext.toggleClass($(this),$(this).attr("onclick-toggleclass"))});$(document).on("click","[onclick-disable]",function(){sircl.ext.$select($(this),$(this).attr("onclick-disable")).prop("disabled",!0)});$(document).on("click","[onclick-enable]",function(){sircl.ext.$select($(this),$(this).attr("onclick-enable")).prop("disabled",!1)});$(document).on("click","[onclick-readonly]",function(){sircl.ext.$select($(this),$(this).attr("onclick-readonly")).prop("readonly",!0)});$(document).on("click","[onclick-readwrite]",function(){sircl.ext.$select($(this),$(this).attr("onclick-readwrite")).prop("readonly",!1)});$(document).on("click","[onclick-clearvalue]",function(){sircl.ext.$select($(this),$(this).attr("onclick-clearvalue")).each(function(){$(this).val("");$(this).change()})});$(document).on("click","[onclick-check]",function(){sircl.ext.$select($(this),$(this).attr("onclick-check")).filter("INPUT[type=checkbox], INPUT[type=radio]").each(function(){this.checked=!0;$(this).change()})});$(document).on("click","[onclick-uncheck]",function(){sircl.ext.$select($(this),$(this).attr("onclick-uncheck")).filter("INPUT[type=checkbox], INPUT[type=radio]").each(function(){this.checked=!1;$(this).change()})});$(document).on("click","[onclick-togglecheck]",function(){sircl.ext.$select($(this),$(this).attr("onclick-togglecheck")).filter("INPUT[type=checkbox], INPUT[type=radio]").each(function(){this.checked=!this.checked;$(this).change()})})});$(function(){$(document).on("dblclick","*[ondblclick-load]",function(n){var t=this.getAttribute("ondblclick-load"),r,i;t==="null"||t===""||(t==="history:back"?window.history.back():t==="history:back-uncached"?(sircl.ext.$mainTarget().addClass("sircl-history-nocache-once"),window.history.back()):t==="history:refresh"?location.reload():t.indexOf("alert:")===0?sircl.ext.alert($(this),t.substr(6),null,!0):t.indexOf("javascript:")===0?(r=this.getAttribute("nonce"),r?jQuery.globalEval(t.substr(11),{nonce:r}):jQuery.globalEval(t.substr(11))):t.indexOf("#")===0?window.location.hash=t:(i=this.getAttribute("target"),i==null&&!sircl.singlePageMode||i!=null&&sircl.ext.isExternalTarget(i)?i==null?window.location.href=t:window.open(t,i):sircl._loadUrl($(this),t,$(i))));n.preventDefault();n.stopPropagation()});$(document).on("dblclick","*[ondblclick-click]",function(){var n=$(this).attr("ondblclick-click");sircl.ext.$select($(this),n)[0].click()});$(document).on("dblclick","[ondblclick-clear]",function(){sircl.ext.$select($(this),$(this).attr("ondblclick-clear")).html("")});$(document).on("dblclick","[ondblclick-show]",function(){sircl.ext.visible(sircl.ext.$select($(this),$(this).attr("ondblclick-show")),!0)});$(document).on("dblclick","[ondblclick-hide]",function(){sircl.ext.visible(sircl.ext.$select($(this),$(this).attr("ondblclick-hide")),!1)});$(document).on("dblclick","[ondblclick-toggleshow]",function(){sircl.ext.$select($(this),$(this).attr("ondblclick-toggleshow")).each(function(){sircl.ext.visible($(this),!sircl.ext.visible($(this)))})});$(document).on("dblclick","[ondblclick-removeclass]",function(){sircl.ext.removeClass($(this),$(this).attr("ondblclick-removeclass"))});$(document).on("dblclick","[ondblclick-addclass]",function(){sircl.ext.addClass($(this),$(this).attr("ondblclick-addclass"))});$(document).on("dblclick","[ondblclick-toggleclass]",function(){sircl.ext.toggleClass($(this),$(this).attr("ondblclick-toggleclass"))})});$(function(){$(document).on("mouseenter","*[onhover-show]",function(){sircl.ext.visible(sircl.ext.$select($(this),$(this).attr("onhover-show")),!0)});$(document).on("mouseleave","*[onhover-show]",function(){sircl.ext.visible(sircl.ext.$select($(this),$(this).attr("onhover-show")),!1)});$(document).on("mouseenter","*[onhover-hide]",function(){sircl.ext.visible(sircl.ext.$select($(this),$(this).attr("onhover-hide")),!1)});$(document).on("mouseleave","*[onhover-hide]",function(){sircl.ext.visible(sircl.ext.$select($(this),$(this).attr("onhover-hide")),!0)});$(document).on("mouseenter","*[onhover-removeclass]",function(){sircl.ext.removeClass($(this),$(this).attr("onhover-removeclass"))});$(document).on("mouseleave","*[onhover-removeclass]",function(){sircl.ext.addClass($(this),$(this).attr("onhover-removeclass"))});$(document).on("mouseenter","*[onhover-addclass]",function(){sircl.ext.addClass($(this),$(this).attr("onhover-addclass"))});$(document).on("mouseleave","*[onhover-addclass]",function(){sircl.ext.removeClass($(this),$(this).attr("onhover-addclass"))});$(document).on("mouseenter","*[onhover-toggleclass]",function(){sircl.ext.toggleClass($(this),$(this).attr("onhover-toggleclass"))});$(document).on("mouseleave","*[onhover-toggleclass]",function(){sircl.ext.toggleClass($(this),$(this).attr("onhover-toggleclass"))})});$(function(){$(document.body).on("change","*[onchecked-click]:checked",function(){var n=$(this).attr("onclick-click");sircl.ext.$select($(this),n)[0].click()});$(document.body).on("change","[ifchecked-show]",function(){sircl.ext.visible(sircl.ext.$select($(this),this.getAttribute("ifchecked-show")),this.checked)});$(document.body).on("change","[ifchecked-hide]",function(){sircl.ext.visible(sircl.ext.$select($(this),this.getAttribute("ifchecked-hide")),!this.checked)});$(document.body).on("change","[ifchecked-enable]",function(){sircl.ext.$select($(this),this.getAttribute("ifchecked-enable")).prop("disabled",!this.checked)});$(document.body).on("change","[ifchecked-disable]",function(){sircl.ext.$select($(this),this.getAttribute("ifchecked-disable")).prop("disabled",this.checked)});$(document.body).on("change","[ifchecked-readonly]",function(){sircl.ext.$select($(this),this.getAttribute("ifchecked-readonly")).prop("readonly",this.checked)});$(document.body).on("change","[ifchecked-readwrite]",function(){sircl.ext.$select($(this),this.getAttribute("ifchecked-readwrite")).prop("readonly",!this.checked)});$(document.body).on("change","[ifchecked-clearvalue]",function(){this.checked&&sircl.ext.$select($(this),this.getAttribute("ifchecked-clearvalue")).each(function(){$(this).val("");$(this).change()})});$(document.body).on("change","[ifunchecked-clearvalue]",function(){this.checked||sircl.ext.$select($(this),this.getAttribute("ifunchecked-clearvalue")).each(function(){$(this).val("");$(this).change()})});$(document.body).on("change","[ifchecked-check]",function(){this.checked&&sircl.ext.$select($(this),this.getAttribute("ifchecked-check")).filter(":not(:checked)").each(function(){$(this).prop("checked",!0);$(this).change()})});$(document.body).on("change","[ifchecked-uncheck]",function(){this.checked&&sircl.ext.$select($(this),this.getAttribute("ifchecked-uncheck")).filter(":checked").each(function(){$(this).prop("checked",!1);$(this).change()})});$(document.body).on("change","[ifunchecked-check]",function(){this.checked||sircl.ext.$select($(this),this.getAttribute("ifunchecked-check")).filter(":not(:checked)").each(function(){$(this).prop("checked",!0);$(this).change()})});$(document.body).on("change","[ifunchecked-uncheck]",function(){this.checked||sircl.ext.$select($(this),this.getAttribute("ifunchecked-uncheck")).filter(":checked").each(function(){$(this).prop("checked",!1);$(this).change()})});$(document.body).on("change",".byvalue-events",function(){var n=$("BODY"),u=[],f=[],s=sircl.ext.cssEscape(this.name),t=".ifvalue"+s,r,e,o,i;for(n.find(t+"-show").each(function(){sircl.ext.visible($(this),!0)}),n.find(t+"-hide").each(function(){sircl.ext.visible($(this),!1)}),n.find(t+"-enable").each(function(){$(this).prop("disabled",!1)}),n.find(t+"-disable").each(function(){$(this).prop("disabled",!0)}),n.find(t+"-readonly").each(function(){$(this).prop("readonly",!0)}),n.find(t+"-readwrite").each(function(){$(this).prop("readonly",!1)}),n.find(t+"-clearvalue").each(function(){$(this).val("");$(this).change()}),n.find(t+"-check").each(function(){this.checked||u.push(this)}),n.find(t+"-uncheck").each(function(){this.checked&&f.push(this)}),r=$(this).val(),r==null&&(r=[]),Array.isArray(r)||(r=[r]),e=0;e<r.length;e++)o=sircl.ext.cssEscape(r[e]),i=t+"is"+o,n.find(i+"-show").each(function(){sircl.ext.visible($(this),!0)}),n.find(i+"-hide").each(function(){sircl.ext.visible($(this),!1)}),n.find(i+"-enable").each(function(){$(this).prop("disabled",!1)}),n.find(i+"-disable").each(function(){$(this).prop("disabled",!0)}),n.find(i+"-readonly").each(function(){$(this).prop("readonly",!0)}),n.find(i+"-readwrite").each(function(){$(this).prop("readonly",!1)}),n.find(i+"-clearvalue").each(function(){$(this).val("");$(this).change()}),n.find(i+"-check").each(function(){f.indexOf(this)>=0&&f.splice(f.indexOf(this),1);this.checked||u.indexOf(this)!==-1||u.push(this)}),n.find(i+"-uncheck").each(function(){u.indexOf(this)>=0&&u.splice(u.indexOf(this),1);this.checked&&f.indexOf(this)===-1&&f.push(this)});u.forEach(function(n){n.checked=!0;$(n).change()});f.forEach(function(n){n.checked=!1;$(n).change()})})});$$(function(){$(this).find("[ifchecked-show]").each(function(){sircl.ext.visible(sircl.ext.$select($(this),this.getAttribute("ifchecked-show")),this.checked)});$(this).find("[ifchecked-hide]").each(function(){sircl.ext.visible(sircl.ext.$select($(this),this.getAttribute("ifchecked-hide")),!this.checked)});$(this).find("[ifchecked-enable]").each(function(){sircl.ext.$select($(this),this.getAttribute("ifchecked-enable")).prop("disabled",!this.checked)});$(this).find("[ifchecked-disable]").each(function(){sircl.ext.$select($(this),this.getAttribute("ifchecked-disable")).prop("disabled",this.checked)});$(this).find("[ifchecked-readonly]",function(){sircl.ext.$select($(this),this.getAttribute("ifchecked-readonly")).prop("readonly",this.checked)});$(this).find("[ifchecked-readwrite]",function(){sircl.ext.$select($(this),this.getAttribute("ifchecked-readwrite")).prop("readonly",!this.checked)});$(this).find("[ifchecked-clearvalue]",function(){this.checked&&sircl.ext.$select($(this),this.getAttribute("ifchecked-clearvalue")).each(function(){$(this).val("");$(this).change()})});$(this).find("[ifunchecked-clearvalue]",function(){this.checked||sircl.ext.$select($(this),this.getAttribute("ifunchecked-clearvalue")).each(function(){$(this).val("");$(this).change()})});$(this).find("[ifchecked-check]").each(function(){this.checked&&sircl.ext.$select($(this),this.getAttribute("ifchecked-check")).filter(":not(:checked)").each(function(){$(this).prop("checked",!0);$(this).change()})});$(this).find("[ifchecked-uncheck]").each(function(){this.checked&&sircl.ext.$select($(this),this.getAttribute("ifchecked-uncheck")).filter(":checked").each(function(){$(this).prop("checked",!1);$(this).change()})});$(this).find("[ifunchecked-check]").each(function(){this.checked||sircl.ext.$select($(this),this.getAttribute("ifunchecked-check")).filter(":not(:checked)").each(function(){$(this).prop("checked",!0);$(this).change()})});$(this).find("[ifunchecked-uncheck]").each(function(){this.checked||sircl.ext.$select($(this),this.getAttribute("ifunchecked-uncheck")).filter(":checked").each(function(){$(this).prop("checked",!1);$(this).change()})});$(this).find(".byvalue-events").each(function(){var n=$("BODY"),u=[],f=[],s=sircl.ext.cssEscape(this.name),t=".ifvalue"+s,r,e,o,i;for(n.find(t+"-show").each(function(){sircl.ext.visible($(this),!0)}),n.find(t+"-hide").each(function(){sircl.ext.visible($(this),!1)}),n.find(t+"-enable").each(function(){$(this).prop("disabled",!1)}),n.find(t+"-disable").each(function(){$(this).prop("disabled",!0)}),n.find(t+"-readonly").each(function(){$(this).prop("readonly",!0)}),n.find(t+"-readwrite").each(function(){$(this).prop("readonly",!1)}),n.find(t+"-clearvalue").each(function(){$(this).val("");$(this).change()}),n.find(t+"-check").each(function(){this.checked||u.push(this)}),n.find(t+"-uncheck").each(function(){this.checked&&f.push(this)}),r=$(this).val(),r==null&&(r=[]),Array.isArray(r)||(r=[r]),e=0;e<r.length;e++)o=sircl.ext.cssEscape(r[e]),i=t+"is"+o,n.find(i+"-show").each(function(){sircl.ext.visible($(this),!0)}),n.find(i+"-hide").each(function(){sircl.ext.visible($(this),!1)}),n.find(i+"-enable").each(function(){$(this).prop("disabled",!1)}),n.find(i+"-disable").each(function(){$(this).prop("disabled",!0)}),n.find(i+"-readonly").each(function(){$(this).prop("readonly",!0)}),n.find(i+"-readwrite").each(function(){$(this).prop("readonly",!1)}),n.find(i+"-clearvalue").each(function(){$(this).val("");$(this).change()}),n.find(i+"-check").each(function(){f.indexOf(this)>=0&&f.splice(f.indexOf(this),1);this.checked||u.indexOf(this)!==-1||u.push(this)}),n.find(i+"-uncheck").each(function(){u.indexOf(this)>=0&&u.splice(u.indexOf(this),1);this.checked&&f.indexOf(this)===-1&&f.push(this)});u.forEach(function(n){n.checked=!0;$(n).change()});f.forEach(function(n){n.checked=!1;$(n).change()})});$(this).find("[enable-ifchecked]").each(function(){var n=$(this);sircl.ext.$select(n,n.attr("enable-ifchecked")).on("change",function(){n.prop("disabled",!sircl.ext.$select(n,n.attr("enable-ifchecked")).filter(":checked").length>0)});n.prop("disabled",!sircl.ext.$select(n,n.attr("enable-ifchecked")).filter(":checked").length>0)})});sircl.ext.isValid=function(n){for(var r,i,u=["BUTTON","FIELDSET","INPUT","OUTPUT","SELECT","TEXTAREA"],t=0;t<n.length;t++)if(u.indexOf(n[t].tagName)>=0){if(!n[t].validity.valid)return!1}else for(r=$(n[t]).find("BUTTON,FIELDSET,INPUT,OUTPUT,SELECT,TEXTAREA"),i=0;i<r.length;i++)if(!r[i].validity.valid)return!1;return!0};$$(function(){$(this).find("[ifvalid-show]").each(function(){sircl.ext.visible(sircl.ext.$select($(this),this.getAttribute("ifvalid-show")),sircl.ext.isValid($(this)))});$(this).find("[ifinvalid-show]").each(function(){sircl.ext.visible(sircl.ext.$select($(this),this.getAttribute("ifinvalid-show")),!sircl.ext.isValid($(this)))});$(this).find("[ifvalid-addclass]").each(function(){sircl.ext.isValid($(this))?sircl.ext.addClass($(this),this.getAttribute("ifvalid-addclass")):sircl.ext.removeClass($(this),this.getAttribute("ifvalid-addclass"))});$(this).find("[ifinvalid-addclass]").each(function(){sircl.ext.isValid($(this))?sircl.ext.removeClass($(this),this.getAttribute("ifinvalid-addclass")):sircl.ext.addClass($(this),this.getAttribute("ifinvalid-addclass"))});$(this).find("[ifvalid-enable]").each(function(){sircl.ext.$select($(this),this.getAttribute("ifvalid-enable")).prop("disabled",!sircl.ext.isValid($(this)))});$(this).find("[ifinvalid-enable]").each(function(){sircl.ext.$select($(this),this.getAttribute("ifinvalid-enable")).prop("disabled",sircl.ext.isValid($(this)))})});$(function(){$(document).on("change","[ifvalid-show]",function(){sircl.ext.visible(sircl.ext.$select($(this),this.getAttribute("ifvalid-show")),sircl.ext.isValid($(this)))});$(document).on("change","[ifinvalid-show]",function(){sircl.ext.visible(sircl.ext.$select($(this),this.getAttribute("ifinvalid-show")),!sircl.ext.isValid($(this)))});$(document).on("change","[ifvalid-addclass]",function(){sircl.ext.isValid($(this))?sircl.ext.addClass($(this),this.getAttribute("ifvalid-addclass")):sircl.ext.removeClass($(this),this.getAttribute("ifvalid-addclass"))});$(document).on("change","[ifinvalid-addclass]",function(){sircl.ext.isValid($(this))?sircl.ext.removeClass($(this),this.getAttribute("ifinvalid-addclass")):sircl.ext.addClass($(this),this.getAttribute("ifinvalid-addclass"))});$(document).on("change","[ifvalid-enable]",function(){sircl.ext.$select($(this),this.getAttribute("ifvalid-enable")).prop("disabled",!sircl.ext.isValid($(this)))});$(document).on("change","[ifinvalid-enable]",function(){sircl.ext.$select($(this),this.getAttribute("ifinvalid-enable")).prop("disabled",sircl.ext.isValid($(this)))})});$(document).on("focus","INPUT.onfocus-select:not([type=checkbox]):not([type=radio]:not([type=button])",function(){$(this)[0].select()});$(function(){$(document.body).on("click","*[onclick-propagate=off]",function(n){n.stopPropagation()});$(document.body).on("dblclick","*[ondblclick-propagate=off]",function(n){n.stopPropagation()});$(document.body).on("change","*[onchange-propagate=off]",function(n){n.stopPropagation()});$(document.body).on("input","*[oninput-propagate=off]",function(n){n.stopPropagation()})});sircl.isElementInViewport=function(n){var t=n.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)};$(function(){$(window).on("DOMContentLoaded load resize scroll",function(){$(this).scrollTop()>100?($.isFunction($.fn.fadeIn)&&$(".onscrolltop-fade").fadeIn(800),sircl.ext.visible($(".onscrolltop-fade"),!0)):($.isFunction($.fn.fadeOut)&&$(".onscrolltop-fade").fadeOut(400),sircl.ext.visible($(".onscrolltop-fade"),!1));$("[ifinviewport-load]").each(function(){if(sircl.isElementInViewport(this)){var n=$(this).attr("ifinviewport-load");$(this).removeAttr("ifinviewport-load");$(this).load(n)}})});$(document).on("click",".onclick-scrolltop",function(){return $.isFunction($.fn.animate)?$("body,html").animate({scrollTop:0},500):window.scrollTo(0,0),!1})});$$(function(){$("[ifinviewport-load]").each(function(){if(sircl.isElementInViewport(this)){var n=$(this).attr("ifinviewport-load");$(this).removeAttr("ifinviewport-load");$(this).load(n)}})});$(function(){$(document.body).on("click","*[onclick-confirm]",function(n){var t=$(this).attr("onclick-confirm");t&&(sircl.ext.confirm($(this),t,n)||(n.stopPropagation(),n.preventDefault()))});$(document.body).on("change","INPUT[onchange-confirm][type='checkbox']",function(n){var t=$(this).attr("onchange-confirm");t&&(sircl.ext.confirm($(this),t,n)||($this.prop("checked",!$this.prop("checked")),n.stopPropagation(),n.preventDefault()))});$(document.body).on("change","INPUT[onchange-confirm]:not([type='checkbox']):not([type='radio']),SELECT[onchange-confirm]",function(n){var t=$(this).attr("onchange-confirm");t&&(sircl.ext.confirm($(this),t,n)?this._beforeConfirmValue=$(this).val():($(this).val(this._beforeConfirmValue),n.stopPropagation(),n.preventDefault()))})});$$(function(){$(this).find("INPUT[onchange-confirm]:not([type='checkbox']):not([type='radio']),SELECT[onchange-confirm]").each(function(){this._beforeConfirmValue=$(this).val()})});$$(function(){$(this).find("FORM[onchange-set]").each(function(){var n=$(this).find("INPUT[name='"+$(this).attr("onchange-set")+"']");n.length>0&&["true","on"].indexOf((n.val()||"false").toLowerCase())>=0&&$(this).addClass("form-changed")})});$(function(){$(document).on("change","FORM[onchange-set]",function(n){if($(n.target).closest(".sircl-content-processing").length==0){$(this).addClass("form-changed");var t=$(this).find("INPUT[name='"+$(this).attr("onchange-set")+"']");t.length>0&&t.val(!0)}});$(document.body).on("click","*[href]:not(.onunloadchanged-allow):not([download])",function(n){var t=$("FORM.form-changed[onunloadchanged-confirm]"),i;t.length>0&&(i=t[0].getAttribute("onunloadchanged-confirm"),sircl.ext.confirm($(this),i,n)||(n.stopPropagation(),n.preventDefault()))});$(document.body).on("click","FORM.form-changed *[onclickchanged-confirm]",function(n){var t=$(this).attr("onclickchanged-confirm");sircl.ext.confirm($(this),t,n)||(n.stopPropagation(),n.preventDefault())})});$(function(){$(document.body).on("dragover","[ondropfile-accept]",function(n){if(n.originalEvent.dataTransfer.types.length>0&&n.originalEvent.dataTransfer.types[0]=="Files"){n.preventDefault();var t=$(this).closest("[ondragover-addclass]");t.length>0&&sircl.ext.addClass(t,t.attr("ondragover-addclass"))}});$(document).on("drop","[ondropfile-accept]",function(n){var e,o,s,r,a,v,u,h,y,c;n.preventDefault();var t=$(this),p=t.attr("ondropfile-accept").split(" "),f=(t.attr("dropfile-maxsize")||"1024 MB").toUpperCase();f=f.indexOf("KB")>0?parseFloat(f.replace("KB","").trim())*1024:f.indexOf("MB")>0?parseFloat(f.replace("MB","").trim())*1048576:parseFloat(f);var l=parseInt(t.attr("dropfile-maxcount")||"99"),w=t.attr("ondropinvalidfile-alert"),b=t.attr("ondroptoomanyfiles-alert"),i=[];for(e=0;e<n.originalEvent.dataTransfer.files.length;e++)if(o=n.originalEvent.dataTransfer.files[e],!(o.size>f))for(s=0;s<p.length;s++)(r=p[s].trim().toLowerCase(),r!="")&&(r.indexOf("*")==0?i.push(e):r.indexOf("*")==r.length-1?o.type.toLowerCase().indexOf(r.substr(0,r.length-1))==0&&i.push(e):o.type.toLowerCase()==r&&i.push(e));if(i.length>l&&b!=null?sircl.ext.alert(t,b,n,!1):i.length!=n.originalEvent.dataTransfer.files.length&&w!=null&&sircl.ext.alert(t,w,n,!1),i.length>0&&(i.length>l&&(i=i.slice(0,l)),t.hasClass("ondropfile-submit")&&(a=t.hasAttr("form")?$("#"+t.attr("form")):t.closest("FORM"),a.length>0))){for(n.preventDefault(),v="sircl-autoid-"+(new Date).getTime(),u='<input hidden id="'+v+'" type="submit" ',t.hasAttr("formaction")&&(u+='formaction="'+t.attr("formaction")+'" '),t.hasAttr("formenctype")&&(u+='formenctype="'+t.attr("formenctype")+'" '),t.hasAttr("formmethod")&&(u+='formmethod="'+t.attr("formmethod")+'" '),t.hasAttr("formnovalidate")&&(u+='formnovalidate="'+t.attr("formnovalidate")+'" '),t.hasAttr("formtarget")&&(u+='formtarget="'+t.attr("formtarget")+'" '),u+="/>",a.append(u),h=$("#"+v),y=[],c=0;c<i.length;c++)y.push(n.originalEvent.dataTransfer.files[i[c]]);h[0]._files=y;h[0]._filesName=t.attr("name")||"files";h.click()}})});$(function(){$(document).on("dragstart","[draggable]",function(n){var i,t;if($(this).hasAttr("drop-type"))for(i=$(this).attr("drop-type").split(" "),t=0;t<i.length;t++)i[t].trim()!=""&&n.originalEvent.dataTransfer.setData(i[t].trim(),!0);n.originalEvent.dataTransfer.setData("__id",sircl.ext.getId(this,!0));n.originalEvent.dataTransfer.setData("any",$(this).attr("drop-value"))});$(document.body).on("dragover","[ondrop-accept]",function(n){for(var t,i,u=$(this).attr("ondrop-accept").split(" "),r=0;r<u.length;r++)for(t=0;t<n.originalEvent.dataTransfer.types.length;t++)u[r].trim().toLowerCase()==n.originalEvent.dataTransfer.types[t]&&(n.preventDefault(),i=$(this).closest("[ondragover-addclass]"),i.length>0&&sircl.ext.addClass(i,i.attr("ondragover-addclass")))});$(document).on("dragleave","[ondragover-addclass]",function(){sircl.ext.removeClass($(this),$(this).attr("ondragover-addclass"))});$(document).on("drop","[ondragover-addclass]",function(){sircl.ext.removeClass($(this),$(this).attr("ondragover-addclass"))});$(document).on("drop",".ondrop-move",function(n){n.preventDefault();var t=n.originalEvent.dataTransfer.getData("__id");n.originalEvent.target.appendChild(document.getElementById(t))});$(document).on("drop",".ondrop-copy",function(n){n.preventDefault();var t=n.originalEvent.dataTransfer.getData("__id");$(n.originalEvent.target).append(document.getElementById(t).outerHTML.replace('id="'+t+'"',""))});$(document).on("drop",".ondrop-submit",function(n){var t=$(this),r=t.hasAttr("form")?$("#"+t.attr("form")):t.closest("FORM"),u,i;r.length>0&&(r.find("INPUT.drop-value").each(function(){$(this).val(n.originalEvent.dataTransfer.getData("any"))}),n.preventDefault(),u="sircl-autoid-"+(new Date).getTime(),i='<input hidden id="'+u+'" type="submit" ',t.hasAttr("formaction")&&(i+='formaction="'+t.attr("formaction")+'" '),t.hasAttr("formenctype")&&(i+='formenctype="'+t.attr("formenctype")+'" '),t.hasAttr("formmethod")&&(i+='formmethod="'+t.attr("formmethod")+'" '),t.hasAttr("formnovalidate")&&(i+='formnovalidate="'+t.attr("formnovalidate")+'" '),t.hasAttr("formtarget")&&(i+='formtarget="'+t.attr("formtarget")+'" '),i+="/>",r.append(i),$("#"+u).click())})});